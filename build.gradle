plugins {
    id 'fabric-loom' version '1.3-SNAPSHOT'
}

group 'dev.lazurite'
version spectater_version

dependencies {
    mappings loom.officialMojangMappings()
    minecraft "com.mojang:minecraft:$minecraft_version"
    modImplementation "net.fabricmc:fabric-loader:$fabric_loader_version"
}

java {
    toolchain.languageVersion = JavaLanguageVersion.of 17
    withSourcesJar()
}

jar {
    from 'LICENSE'
}

tasks.withType(ProcessResources) {
    inputs.properties(
            'version': project.version,
            'min_minecraft_version': min_minecraft_version,
            'min_fabric_loader_version': min_fabric_loader_version
    )

    filesMatching 'fabric.mod.json', {
        expand(
                'version': project.version,
                'min_minecraft_version': min_minecraft_version,
                'min_fabric_loader_version': min_fabric_loader_version
        )
    }
}
